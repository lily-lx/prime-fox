{{ define "main" }}

<div class="photos-page">
  <header class="page-header">
    <h1>{{ .Title }}</h1>
    {{ with .Params.description }}
      <p class="page-description">{{ . }}</p>
    {{ end }}
  </header>

  <!-- ========================= -->
  <!-- ① Group Photos（照片相册） -->
  <!-- ========================= -->
  <section class="photos-section">
    <h2>Group Photos</h2>

    {{ $groupPages := where .Site.RegularPages "Section" "photos" }}
    {{ $groupPages = where $groupPages "Dir" "like" "photos/group" }}
    
    {{ if gt (len $groupPages) 0 }}
      {{ range $groupPages }}
        {{ partial "photo-grid.html" . }}
      {{ end }}
    {{ else }}
      <p class="empty-hint">No group photos yet.</p>
    {{ end }}
  </section>

  <!-- ================================= -->
  <!-- ② Projects & Presentations（视频） -->
  <!-- ================================= -->
  <section class="projects-section">
    <h2>Projects &amp; Presentations</h2>

    {{ $projectPages := where .Site.RegularPages "Section" "photos" }}
    {{ $projectPages = where $projectPages "Dir" "like" "photos/projects" }}
    
    {{ if gt (len $projectPages) 0 }}
      {{ range $projectPages }}
        {{ partial "project-block.html" . }}
      {{ end }}
    {{ else }}
      <p class="empty-hint">No project videos yet.</p>
    {{ end }}
  </section>

</div>

{{ end }}

{{ define "main" }}
<p>DEBUG: {{ len .Site.RegularPages }}</p>
<div class="photos-page">
  <header class="page-header">
    <h1>{{ .Title }}</h1>
    {{ with .Params.description }}
      <p class="page-description">{{ . }}</p>
    {{ end }}
  </header>

  <!-- ========================= -->
  <!-- ① Group Photos（照片相册） -->
  <!-- ========================= -->
  <section class="photos-section">
    <h2>Group Photos</h2>

    {{ $groupSection := .Site.GetPage "section" "photos/group" }}
    
    {{ if $groupSection }}
      {{ $groupPages := $groupSection.Pages }}
      {{ if gt (len $groupPages) 0 }}
        {{ range $groupPages }}
          {{ partial "photo-grid.html" . }}
        {{ end }}
      {{ else }}
        <p class="empty-hint">No group photos yet.</p>
      {{ end }}
    {{ else }}
      <p class="empty-hint">Group photos section not found.</p>
    {{ end }}
  </section>

  <!-- ================================= -->
  <!-- ② Projects & Presentations（视频） -->
  <!-- ================================= -->
  <section class="projects-section">
    <h2>Projects &amp; Presentations</h2>

    {{ $projectSection := .Site.GetPage "section" "photos/projects" }}
    
    {{ if $projectSection }}
      {{ $projectPages := $projectSection.Pages }}
      {{ if gt (len $projectPages) 0 }}
        {{ range $projectPages }}
          {{ partial "project-block.html" . }}
        {{ end }}
      {{ else }}
        <p class="empty-hint">No project videos yet.</p>
      {{ end }}
    {{ else }}
      <p class="empty-hint">Projects section not found.</p>
    {{ end }}
  </section>

</div>

{{ end }}

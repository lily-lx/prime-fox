{{ define "main" }}
<h2>DEBUG: Resources</h2>

{{ range .Site.RegularPages }}
  {{ if eq .File.Path "photos/group/group2024/index.md" }}
    <p>Found group2024 page</p>
    <p>Resources count: {{ len .Resources }}</p>

    {{ range .Resources }}
      <p>â†’ {{ .Name }} ({{ .MediaType }})</p>
    {{ end }}
  {{ end }}
{{ end }}

<div class="photos-page">

  <header class="page-header">
    <h1>{{ .Title }}</h1>
  </header>

  <!-- ================= Group Photos ================= -->
<section class="photos-section">
  <h2>Group Photos</h2>

  {{ $found := false }}

  {{ range .Site.RegularPages }}
    {{ if strings.HasPrefix .File.Path "photos/group/" }}
      {{ if not $found }}{{ $found = true }}{{ end }}
      {{ partial "photo-grid.html" . }}
    {{ end }}
  {{ end }}

  {{ if not $found }}
    <p class="empty-hint">No group photos yet.</p>
  {{ end }}
</section>

  <!-- ================= Projects & Presentations ================= -->
  <section class="projects-section" style="margin-top:48px;">
    <h2>Projects &amp; Presentations</h2>

    {{ $projects := where .Site.RegularPages "File.Dir" "photos/projects/" }}

    {{ if gt (len $projects) 0 }}
      {{ range $projects }}
        <h3>{{ .Title }}</h3>

        {{ with .Params.video }}
          <iframe
            src="{{ . }}"
            width="560"
            height="315"
            frameborder="0"
            allowfullscreen>
          </iframe>
        {{ end }}

      {{ end }}
    {{ else }}
      <p>No project videos yet.</p>
    {{ end }}
  </section>

</div>

{{ end }}

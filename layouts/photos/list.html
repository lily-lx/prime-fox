{{ define "main" }}

<div class="photos-page">

  <header class="page-header">
    <h1>{{ .Title }}</h1>
  </header>

  <!-- ================= Group Photos ================= -->
  <section class="photos-section">
    <h2>Group Photos</h2>

    {{ $groups := where .Site.RegularPages "File.Dir" "photos/group/" }}

    {{ if gt (len $groups) 0 }}
      {{ range $groups }}
        <h3>{{ .Title }}</h3>

        <div style="display:flex;flex-wrap:wrap;gap:16px;">
          {{ range .Resources.ByType "image" }}
            <img
              src="{{ .RelPermalink }}"
              style="max-width:260px;border-radius:6px;">
          {{ end }}
        </div>
      {{ end }}
    {{ else }}
      <p>No group photos yet.</p>
    {{ end }}
  </section>

  <!-- ================= Projects & Presentations ================= -->
  <section class="projects-section" style="margin-top:48px;">
    <h2>Projects &amp; Presentations</h2>

    {{ $projects := where .Site.RegularPages "File.Dir" "photos/projects/" }}

    {{ if gt (len $projects) 0 }}
      {{ range $projects }}
        <h3>{{ .Title }}</h3>

        {{ with .Params.video }}
          <iframe
            src="{{ . }}"
            width="560"
            height="315"
            frameborder="0"
            allowfullscreen>
          </iframe>
        {{ end }}

      {{ end }}
    {{ else }}
      <p>No project videos yet.</p>
    {{ end }}
  </section>

</div>

{{ end }}

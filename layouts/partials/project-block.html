<div class="project-block">
  <h3>{{ .Title }}</h3>
{{/* 1️⃣ 本地视频（Page Resource） */}}
{{ $videos := .Resources.Match "*.mp4" }}
{{ if gt (len $videos) 0 }}
  {{ range $videos }}
    <div class="project-media project-video">
      <video controls preload="metadata">
        <source src="{{ .RelPermalink }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  {{ end }}
{{ end }}
   
  {{/* 2️⃣ Bilibili 视频 */}}
  {{ with .Params.video_bilibili }}
    <div class="project-media project-video">
      <iframe
        src="https://player.bilibili.com/player.html?bvid={{ . }}&page=1"
        scrolling="no"
        frameborder="0"
        allowfullscreen>
      </iframe>
    </div>
  {{ end }}

  {{/* 2️⃣ 图片 */}}
  {{ $images := .Resources.ByType "image" }}
  {{ if gt (len $images) 0 }}
    <div class="photo-grid">
      {{ range $images }}
        <img src="{{ .RelPermalink }}" alt="">
      {{ end }}
    </div>
  {{ end }}
</div>
